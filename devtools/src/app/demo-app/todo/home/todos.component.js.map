{"version":3,"file":"todos.component.js","sourceRoot":"","sources":["todos.component.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {\n  ChangeDetectorRef,\n  Component,\n  inject,\n  OnDestroy,\n  OnInit,\n  output,\n  input,\n} from '@angular/core';\n\nimport {Todo} from './todo';\nimport {TodoFilter, TodosFilter} from './todos.pipe';\nimport {SamplePipe} from './sample.pipe';\nimport {TooltipDirective} from './tooltip.directive';\nimport {TodoComponent} from './todo.component';\nimport {RouterLink} from '@angular/router';\n\nconst fib = (n: number): number => {\n  if (n === 1 || n === 2) {\n    return 1;\n  }\n  return fib(n - 1) + fib(n - 2);\n};\n\n@Component({\n  selector: 'base-case',\n  template: `\n    <h2>Base Case</h2>\n  `,\n})\nexport class BaseCaseComponent {\n  // This component serves as a base case for the recursive component.\n}\n\n@Component({\n  selector: 'recursive-component',\n  imports: [BaseCaseComponent],\n  template: `\n    <div class=\"recursive-component\">\n      @if (level() === 0) {\n        <base-case/>\n      } @else {\n        <h3>Level {{ level() }}</h3>\n        <recursive-component [level]=\"level() - 1\"/>\n      }\n    </div>\n  `,\n})\nexport class RecursiveComponent {\n  level = input(5);\n}\n\n@Component({\n  templateUrl: 'todos.component.html',\n  selector: 'app-todos',\n  imports: [\n    RouterLink,\n    TodoComponent,\n    TooltipDirective,\n    SamplePipe,\n    TodosFilter,\n    RecursiveComponent,\n  ],\n})\nexport class TodosComponent implements OnInit, OnDestroy {\n  title = 'Angular Todo';\n\n  todos: Todo[] = [\n    {\n      label: 'Buy milk',\n      completed: false,\n      id: '42',\n    },\n    {\n      label: 'Build something fun!',\n      completed: false,\n      id: '43',\n    },\n  ];\n\n  readonly update = output<Todo>();\n  readonly delete = output<Todo>();\n  readonly add = output<Todo>();\n\n  private hashListener!: EventListenerOrEventListenerObject;\n  private cdRef = inject(ChangeDetectorRef);\n\n  ngOnInit(): void {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('hashchange', (this.hashListener = () => this.cdRef.markForCheck()));\n    }\n  }\n\n  ngOnDestroy(): void {\n    fib(40);\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('hashchange', this.hashListener);\n    }\n  }\n\n  get filterValue(): TodoFilter {\n    if (typeof window !== 'undefined') {\n      return (window.location.hash.replace(/^#\\//, '') as TodoFilter) || TodoFilter.All;\n    }\n    return TodoFilter.All;\n  }\n\n  get itemsLeft(): number {\n    return (this.todos || []).filter((t) => !t.completed).length;\n  }\n\n  clearCompleted(): void {\n    (this.todos || []).filter((t) => t.completed).forEach((t) => this.delete.emit(t));\n  }\n\n  addTodo(input: HTMLInputElement): void {\n    const todo = {\n      completed: false,\n      label: input.value,\n    };\n    const result: Todo = {...todo, id: Math.random().toString()};\n    this.todos.push(result);\n    input.value = '';\n  }\n\n  onChange(todo: Todo): void {\n    if (!todo.id) {\n      return;\n    }\n  }\n\n  onDelete(todo: Todo): void {\n    if (!todo.id) {\n      return;\n    }\n    const idx = this.todos.findIndex((t) => t.id === todo.id);\n    if (idx < 0) {\n      return;\n    }\n    // tslint:disable-next-line:no-console\n    console.log('Deleting', idx);\n\n    this.todos.splice(idx, 1);\n  }\n}\n"]}