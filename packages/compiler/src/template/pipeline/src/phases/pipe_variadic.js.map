{"version":3,"file":"pipe_variadic.js","sourceRoot":"","sources":["pipe_variadic.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAEH,OAAO,KAAK,CAAC,MAAM,+BAA+B,CAAC;AACnD,OAAO,KAAK,EAAE,MAAM,UAAU,CAAC;AAI/B;;;GAGG;AACH,MAAM,UAAU,mBAAmB,CAAC,GAAmB;IACrD,KAAK,MAAM,IAAI,IAAI,GAAG,CAAC,KAAK,EAAE,CAAC;QAC7B,KAAK,MAAM,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAC7B,EAAE,CAAC,wBAAwB,CACzB,EAAE,EACF,CAAC,IAAI,EAAE,EAAE;gBACP,IAAI,CAAC,CAAC,IAAI,YAAY,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC;oBAC1C,OAAO,IAAI,CAAC;gBACd,CAAC;gBAED,yDAAyD;gBACzD,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;oBAC1B,OAAO,IAAI,CAAC;gBACd,CAAC;gBAED,OAAO,IAAI,EAAE,CAAC,uBAAuB,CACnC,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,IAAI,EACT,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EACvB,IAAI,CAAC,IAAI,CAAC,MAAM,CACjB,CAAC;YACJ,CAAC,EACD,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAC3B,CAAC;QACJ,CAAC;IACH,CAAC;AACH,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport * as o from '../../../../output/output_ast';\nimport * as ir from '../../ir';\n\nimport type {CompilationJob, ComponentCompilationJob} from '../compilation';\n\n/**\n * Pipes that accept more than 4 arguments are variadic, and are handled with a different runtime\n * instruction.\n */\nexport function createVariadicPipes(job: CompilationJob): void {\n  for (const unit of job.units) {\n    for (const op of unit.update) {\n      ir.transformExpressionsInOp(\n        op,\n        (expr) => {\n          if (!(expr instanceof ir.PipeBindingExpr)) {\n            return expr;\n          }\n\n          // Pipes are variadic if they have more than 4 arguments.\n          if (expr.args.length <= 4) {\n            return expr;\n          }\n\n          return new ir.PipeBindingVariadicExpr(\n            expr.target,\n            expr.targetSlot,\n            expr.name,\n            o.literalArr(expr.args),\n            expr.args.length,\n          );\n        },\n        ir.VisitorContextFlag.None,\n      );\n    }\n  }\n}\n"]}