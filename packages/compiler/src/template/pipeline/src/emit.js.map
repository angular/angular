{"version":3,"file":"emit.js","sourceRoot":"","sources":["emit.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n *\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport * as o from '../../../../src/output/output_ast';\nimport {ConstantPool} from '../../../constant_pool';\nimport * as ir from '../ir';\n\nimport {\n  CompilationJob,\n  CompilationJobKind as Kind,\n  type ComponentCompilationJob,\n  type HostBindingCompilationJob,\n  type ViewCompilationUnit,\n} from './compilation';\n\nimport {deleteAnyCasts} from './phases/any_cast';\nimport {applyI18nExpressions} from './phases/apply_i18n_expressions';\nimport {assignI18nSlotDependencies} from './phases/assign_i18n_slot_dependencies';\nimport {attachSourceLocations} from './phases/attach_source_locations';\nimport {extractAttributes} from './phases/attribute_extraction';\nimport {specializeBindings} from './phases/binding_specialization';\nimport {chain} from './phases/chaining';\nimport {collapseSingletonInterpolations} from './phases/collapse_singleton_interpolations';\nimport {generateConditionalExpressions} from './phases/conditionals';\nimport {collectElementConsts} from './phases/const_collection';\nimport {convertAnimations} from './phases/convert_animations';\nimport {convertI18nBindings} from './phases/convert_i18n_bindings';\nimport {createI18nContexts} from './phases/create_i18n_contexts';\nimport {deduplicateTextBindings} from './phases/deduplicate_text_bindings';\nimport {configureDeferInstructions} from './phases/defer_configs';\nimport {resolveDeferTargetNames} from './phases/defer_resolve_targets';\nimport {collapseEmptyInstructions} from './phases/empty_elements';\nimport {expandSafeReads} from './phases/expand_safe_reads';\nimport {extractI18nMessages} from './phases/extract_i18n_messages';\nimport {generateAdvance} from './phases/generate_advance';\nimport {generateLocalLetReferences} from './phases/generate_local_let_references';\nimport {generateProjectionDefs} from './phases/generate_projection_def';\nimport {generateVariables} from './phases/generate_variables';\nimport {collectConstExpressions} from './phases/has_const_expression_collection';\nimport {parseHostStyleProperties} from './phases/host_style_property_parsing';\nimport {collectI18nConsts} from './phases/i18n_const_collection';\nimport {convertI18nText} from './phases/i18n_text_extraction';\nimport {liftLocalRefs} from './phases/local_refs';\nimport {emitNamespaceChanges} from './phases/namespace';\nimport {nameFunctionsAndVariables} from './phases/naming';\nimport {mergeNextContextExpressions} from './phases/next_context_merging';\nimport {generateNgContainerOps} from './phases/ng_container';\nimport {disableBindings} from './phases/nonbindable';\nimport {orderOps} from './phases/ordering';\nimport {parseExtractedStyles} from './phases/parse_extracted_styles';\nimport {removeContentSelectors} from './phases/phase_remove_content_selectors';\nimport {createPipes} from './phases/pipe_creation';\nimport {createVariadicPipes} from './phases/pipe_variadic';\nimport {propagateI18nBlocks} from './phases/propagate_i18n_blocks';\nimport {extractPureFunctions} from './phases/pure_function_extraction';\nimport {generatePureLiteralStructures} from './phases/pure_literal_structures';\nimport {optimizeRegularExpressions} from './phases/regular_expression_optimization';\nimport {reify} from './phases/reify';\nimport {removeEmptyBindings} from './phases/remove_empty_bindings';\nimport {removeI18nContexts} from './phases/remove_i18n_contexts';\nimport {removeIllegalLetReferences} from './phases/remove_illegal_let_references';\nimport {removeUnusedI18nAttributesOps} from './phases/remove_unused_i18n_attrs';\nimport {resolveContexts} from './phases/resolve_contexts';\nimport {resolveDeferDepsFns} from './phases/resolve_defer_deps_fns';\nimport {resolveDollarEvent} from './phases/resolve_dollar_event';\nimport {resolveI18nElementPlaceholders} from './phases/resolve_i18n_element_placeholders';\nimport {resolveI18nExpressionPlaceholders} from './phases/resolve_i18n_expression_placeholders';\nimport {resolveNames} from './phases/resolve_names';\nimport {resolveSanitizers} from './phases/resolve_sanitizers';\nimport {saveAndRestoreView} from './phases/save_restore_view';\nimport {allocateSlots} from './phases/slot_allocation';\nimport {optimizeStoreLet} from './phases/store_let_optimization';\nimport {stripNonrequiredParentheses} from './phases/strip_nonrequired_parentheses';\nimport {specializeStyleBindings} from './phases/style_binding_specialization';\nimport {generateTemporaryVariables} from './phases/temporary_variables';\nimport {optimizeTrackFns} from './phases/track_fn_optimization';\nimport {generateTrackVariables} from './phases/track_variables';\nimport {transformTwoWayBindingSet} from './phases/transform_two_way_binding_set';\nimport {countVariables} from './phases/var_counting';\nimport {optimizeVariables} from './phases/variable_optimization';\nimport {wrapI18nIcus} from './phases/wrap_icus';\n\ntype Phase =\n  | {\n      fn: (job: CompilationJob) => void;\n      kind: Kind.Both | Kind.Host | Kind.Tmpl;\n    }\n  | {\n      fn: (job: ComponentCompilationJob) => void;\n      kind: Kind.Tmpl;\n    }\n  | {\n      fn: (job: HostBindingCompilationJob) => void;\n      kind: Kind.Host;\n    };\n\nconst phases: Phase[] = [\n  {kind: Kind.Tmpl, fn: removeContentSelectors},\n  {kind: Kind.Both, fn: optimizeRegularExpressions},\n  {kind: Kind.Host, fn: parseHostStyleProperties},\n  {kind: Kind.Tmpl, fn: emitNamespaceChanges},\n  {kind: Kind.Tmpl, fn: propagateI18nBlocks},\n  {kind: Kind.Tmpl, fn: wrapI18nIcus},\n  {kind: Kind.Both, fn: deduplicateTextBindings},\n  {kind: Kind.Both, fn: specializeStyleBindings},\n  {kind: Kind.Both, fn: specializeBindings},\n  {kind: Kind.Both, fn: convertAnimations},\n  {kind: Kind.Both, fn: extractAttributes},\n  {kind: Kind.Tmpl, fn: createI18nContexts},\n  {kind: Kind.Both, fn: parseExtractedStyles},\n  {kind: Kind.Tmpl, fn: removeEmptyBindings},\n  {kind: Kind.Both, fn: collapseSingletonInterpolations},\n  {kind: Kind.Both, fn: orderOps},\n  {kind: Kind.Tmpl, fn: generateConditionalExpressions},\n  {kind: Kind.Tmpl, fn: createPipes},\n  {kind: Kind.Tmpl, fn: configureDeferInstructions},\n  {kind: Kind.Tmpl, fn: createVariadicPipes},\n  {kind: Kind.Both, fn: generatePureLiteralStructures},\n  {kind: Kind.Tmpl, fn: generateProjectionDefs},\n  {kind: Kind.Tmpl, fn: generateLocalLetReferences},\n  {kind: Kind.Tmpl, fn: generateVariables},\n  {kind: Kind.Tmpl, fn: saveAndRestoreView},\n  {kind: Kind.Both, fn: deleteAnyCasts},\n  {kind: Kind.Both, fn: resolveDollarEvent},\n  {kind: Kind.Tmpl, fn: generateTrackVariables},\n  {kind: Kind.Tmpl, fn: removeIllegalLetReferences},\n  {kind: Kind.Both, fn: resolveNames},\n  {kind: Kind.Tmpl, fn: resolveDeferTargetNames},\n  {kind: Kind.Tmpl, fn: transformTwoWayBindingSet},\n  {kind: Kind.Tmpl, fn: optimizeTrackFns},\n  {kind: Kind.Both, fn: resolveContexts},\n  {kind: Kind.Both, fn: resolveSanitizers},\n  {kind: Kind.Tmpl, fn: liftLocalRefs},\n  {kind: Kind.Both, fn: expandSafeReads},\n  {kind: Kind.Both, fn: stripNonrequiredParentheses},\n  {kind: Kind.Both, fn: generateTemporaryVariables},\n  {kind: Kind.Both, fn: optimizeVariables},\n  {kind: Kind.Both, fn: optimizeStoreLet},\n  {kind: Kind.Tmpl, fn: convertI18nText},\n  {kind: Kind.Tmpl, fn: convertI18nBindings},\n  {kind: Kind.Tmpl, fn: removeUnusedI18nAttributesOps},\n  {kind: Kind.Tmpl, fn: assignI18nSlotDependencies},\n  {kind: Kind.Tmpl, fn: applyI18nExpressions},\n  {kind: Kind.Tmpl, fn: allocateSlots},\n  {kind: Kind.Tmpl, fn: resolveI18nElementPlaceholders},\n  {kind: Kind.Tmpl, fn: resolveI18nExpressionPlaceholders},\n  {kind: Kind.Tmpl, fn: extractI18nMessages},\n  {kind: Kind.Tmpl, fn: collectI18nConsts},\n  {kind: Kind.Tmpl, fn: collectConstExpressions},\n  {kind: Kind.Both, fn: collectElementConsts},\n  {kind: Kind.Tmpl, fn: removeI18nContexts},\n  {kind: Kind.Both, fn: countVariables},\n  {kind: Kind.Tmpl, fn: generateAdvance},\n  {kind: Kind.Both, fn: nameFunctionsAndVariables},\n  {kind: Kind.Tmpl, fn: resolveDeferDepsFns},\n  {kind: Kind.Tmpl, fn: mergeNextContextExpressions},\n  {kind: Kind.Tmpl, fn: generateNgContainerOps},\n  {kind: Kind.Tmpl, fn: collapseEmptyInstructions},\n  {kind: Kind.Tmpl, fn: attachSourceLocations},\n  {kind: Kind.Tmpl, fn: disableBindings},\n  {kind: Kind.Both, fn: extractPureFunctions},\n  {kind: Kind.Both, fn: reify},\n  {kind: Kind.Both, fn: chain},\n];\n\n/**\n * Run all transformation phases in the correct order against a compilation job. After this\n * processing, the compilation should be in a state where it can be emitted.\n */\nexport function transform(job: CompilationJob, kind: Kind): void {\n  for (const phase of phases) {\n    if (phase.kind === kind || phase.kind === Kind.Both) {\n      // The type of `Phase` above ensures it is impossible to call a phase that doesn't support the\n      // job kind.\n      phase.fn(job as CompilationJob & ComponentCompilationJob & HostBindingCompilationJob);\n    }\n  }\n}\n\n/**\n * Compile all views in the given `ComponentCompilation` into the final template function, which may\n * reference constants defined in a `ConstantPool`.\n */\nexport function emitTemplateFn(tpl: ComponentCompilationJob, pool: ConstantPool): o.FunctionExpr {\n  const rootFn = emitView(tpl.root);\n  emitChildViews(tpl.root, pool);\n  return rootFn;\n}\n\nfunction emitChildViews(parent: ViewCompilationUnit, pool: ConstantPool): void {\n  for (const unit of parent.job.units) {\n    if (unit.parent !== parent.xref) {\n      continue;\n    }\n\n    // Child views are emitted depth-first.\n    emitChildViews(unit, pool);\n\n    const viewFn = emitView(unit);\n    pool.statements.push(viewFn.toDeclStmt(viewFn.name!));\n  }\n}\n\n/**\n * Emit a template function for an individual `ViewCompilation` (which may be either the root view\n * or an embedded view).\n */\nfunction emitView(view: ViewCompilationUnit): o.FunctionExpr {\n  if (view.fnName === null) {\n    throw new Error(`AssertionError: view ${view.xref} is unnamed`);\n  }\n\n  const createStatements: o.Statement[] = [];\n  for (const op of view.create) {\n    if (op.kind !== ir.OpKind.Statement) {\n      throw new Error(\n        `AssertionError: expected all create ops to have been compiled, but got ${\n          ir.OpKind[op.kind]\n        }`,\n      );\n    }\n    createStatements.push(op.statement);\n  }\n  const updateStatements: o.Statement[] = [];\n  for (const op of view.update) {\n    if (op.kind !== ir.OpKind.Statement) {\n      throw new Error(\n        `AssertionError: expected all update ops to have been compiled, but got ${\n          ir.OpKind[op.kind]\n        }`,\n      );\n    }\n    updateStatements.push(op.statement);\n  }\n\n  const createCond = maybeGenerateRfBlock(1, createStatements);\n  const updateCond = maybeGenerateRfBlock(2, updateStatements);\n  return o.fn(\n    [new o.FnParam('rf'), new o.FnParam('ctx')],\n    [...createCond, ...updateCond],\n    /* type */ undefined,\n    /* sourceSpan */ undefined,\n    view.fnName,\n  );\n}\n\nfunction maybeGenerateRfBlock(flag: number, statements: o.Statement[]): o.Statement[] {\n  if (statements.length === 0) {\n    return [];\n  }\n\n  return [\n    o.ifStmt(\n      new o.BinaryOperatorExpr(o.BinaryOperator.BitwiseAnd, o.variable('rf'), o.literal(flag)),\n      statements,\n    ),\n  ];\n}\n\nexport function emitHostBindingFunction(job: HostBindingCompilationJob): o.FunctionExpr | null {\n  if (job.root.fnName === null) {\n    throw new Error(`AssertionError: host binding function is unnamed`);\n  }\n\n  const createStatements: o.Statement[] = [];\n  for (const op of job.root.create) {\n    if (op.kind !== ir.OpKind.Statement) {\n      throw new Error(\n        `AssertionError: expected all create ops to have been compiled, but got ${\n          ir.OpKind[op.kind]\n        }`,\n      );\n    }\n    createStatements.push(op.statement);\n  }\n  const updateStatements: o.Statement[] = [];\n  for (const op of job.root.update) {\n    if (op.kind !== ir.OpKind.Statement) {\n      throw new Error(\n        `AssertionError: expected all update ops to have been compiled, but got ${\n          ir.OpKind[op.kind]\n        }`,\n      );\n    }\n    updateStatements.push(op.statement);\n  }\n\n  if (createStatements.length === 0 && updateStatements.length === 0) {\n    return null;\n  }\n\n  const createCond = maybeGenerateRfBlock(1, createStatements);\n  const updateCond = maybeGenerateRfBlock(2, updateStatements);\n  return o.fn(\n    [new o.FnParam('rf'), new o.FnParam('ctx')],\n    [...createCond, ...updateCond],\n    /* type */ undefined,\n    /* sourceSpan */ undefined,\n    job.root.fnName,\n  );\n}\n"]}