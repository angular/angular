{"version":3,"file":"instruction.js","sourceRoot":"","sources":["instruction.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport * as o from '../../../output/output_ast';\nimport {ParseSourceSpan} from '../../../parse_util';\nimport {Identifiers} from '../../../render3/r3_identifiers';\nimport * as ir from '../ir';\n\n// This file contains helpers for generating calls to Ivy instructions. In particular, each\n// instruction type is represented as a function, which may select a specific instruction variant\n// depending on the exact arguments.\n\nexport function element(\n  slot: number,\n  tag: string,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return elementOrContainerBase(\n    Identifiers.element,\n    slot,\n    tag,\n    constIndex,\n    localRefIndex,\n    sourceSpan,\n  );\n}\n\nexport function elementStart(\n  slot: number,\n  tag: string,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return elementOrContainerBase(\n    Identifiers.elementStart,\n    slot,\n    tag,\n    constIndex,\n    localRefIndex,\n    sourceSpan,\n  );\n}\n\nfunction elementOrContainerBase(\n  instruction: o.ExternalReference,\n  slot: number,\n  tag: string | null,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args: o.Expression[] = [o.literal(slot)];\n  if (tag !== null) {\n    args.push(o.literal(tag));\n  }\n  if (localRefIndex !== null) {\n    args.push(\n      o.literal(constIndex), // might be null, but that's okay.\n      o.literal(localRefIndex),\n    );\n  } else if (constIndex !== null) {\n    args.push(o.literal(constIndex));\n  }\n\n  return call(instruction, args, sourceSpan);\n}\n\nfunction templateBase(\n  instruction: o.ExternalReference,\n  slot: number,\n  templateFnRef: o.Expression,\n  decls: number,\n  vars: number,\n  tag: string | null,\n  constIndex: number | null,\n  localRefs: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args = [\n    o.literal(slot),\n    templateFnRef,\n    o.literal(decls),\n    o.literal(vars),\n    o.literal(tag),\n    o.literal(constIndex),\n  ];\n  if (localRefs !== null) {\n    args.push(o.literal(localRefs));\n    args.push(o.importExpr(Identifiers.templateRefExtractor));\n  }\n  while (args[args.length - 1].isEquivalent(o.NULL_EXPR)) {\n    args.pop();\n  }\n  return call(instruction, args, sourceSpan);\n}\n\nfunction propertyBase(\n  instruction: o.ExternalReference,\n  name: string,\n  expression: o.Expression | ir.Interpolation,\n  sanitizer: o.Expression | null,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  const args: o.Expression[] = [o.literal(name)];\n\n  if (expression instanceof ir.Interpolation) {\n    args.push(interpolationToExpression(expression, sourceSpan));\n  } else {\n    args.push(expression);\n  }\n\n  if (sanitizer !== null) {\n    args.push(sanitizer);\n  }\n  return call(instruction, args, sourceSpan);\n}\n\nexport function elementEnd(sourceSpan: ParseSourceSpan | null): ir.CreateOp {\n  return call(Identifiers.elementEnd, [], sourceSpan);\n}\n\nexport function elementContainerStart(\n  slot: number,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return elementOrContainerBase(\n    Identifiers.elementContainerStart,\n    slot,\n    /* tag */ null,\n    constIndex,\n    localRefIndex,\n    sourceSpan,\n  );\n}\n\nexport function elementContainer(\n  slot: number,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return elementOrContainerBase(\n    Identifiers.elementContainer,\n    slot,\n    /* tag */ null,\n    constIndex,\n    localRefIndex,\n    sourceSpan,\n  );\n}\n\nexport function elementContainerEnd(): ir.CreateOp {\n  return call(Identifiers.elementContainerEnd, [], null);\n}\n\nexport function template(\n  slot: number,\n  templateFnRef: o.Expression,\n  decls: number,\n  vars: number,\n  tag: string | null,\n  constIndex: number | null,\n  localRefs: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return templateBase(\n    Identifiers.templateCreate,\n    slot,\n    templateFnRef,\n    decls,\n    vars,\n    tag,\n    constIndex,\n    localRefs,\n    sourceSpan,\n  );\n}\n\nexport function disableBindings(): ir.CreateOp {\n  return call(Identifiers.disableBindings, [], null);\n}\n\nexport function enableBindings(): ir.CreateOp {\n  return call(Identifiers.enableBindings, [], null);\n}\n\nexport function listener(\n  name: string,\n  handlerFn: o.Expression,\n  eventTargetResolver: o.ExternalReference | null,\n  syntheticHost: boolean,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args = [o.literal(name), handlerFn];\n  if (eventTargetResolver !== null) {\n    args.push(o.importExpr(eventTargetResolver));\n  }\n  return call(\n    syntheticHost ? Identifiers.syntheticHostListener : Identifiers.listener,\n    args,\n    sourceSpan,\n  );\n}\n\nexport function twoWayBindingSet(target: o.Expression, value: o.Expression): o.Expression {\n  return o.importExpr(Identifiers.twoWayBindingSet).callFn([target, value]);\n}\n\nexport function twoWayListener(\n  name: string,\n  handlerFn: o.Expression,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return call(Identifiers.twoWayListener, [o.literal(name), handlerFn], sourceSpan);\n}\n\nexport function pipe(slot: number, name: string): ir.CreateOp {\n  return call(Identifiers.pipe, [o.literal(slot), o.literal(name)], null);\n}\n\nexport function namespaceHTML(): ir.CreateOp {\n  return call(Identifiers.namespaceHTML, [], null);\n}\n\nexport function namespaceSVG(): ir.CreateOp {\n  return call(Identifiers.namespaceSVG, [], null);\n}\n\nexport function namespaceMath(): ir.CreateOp {\n  return call(Identifiers.namespaceMathML, [], null);\n}\n\nexport function advance(delta: number, sourceSpan: ParseSourceSpan): ir.UpdateOp {\n  return call(Identifiers.advance, delta > 1 ? [o.literal(delta)] : [], sourceSpan);\n}\n\nexport function reference(slot: number): o.Expression {\n  return o.importExpr(Identifiers.reference).callFn([o.literal(slot)]);\n}\n\nexport function nextContext(steps: number): o.Expression {\n  return o.importExpr(Identifiers.nextContext).callFn(steps === 1 ? [] : [o.literal(steps)]);\n}\n\nexport function getCurrentView(): o.Expression {\n  return o.importExpr(Identifiers.getCurrentView).callFn([]);\n}\n\nexport function restoreView(savedView: o.Expression): o.Expression {\n  return o.importExpr(Identifiers.restoreView).callFn([savedView]);\n}\n\nexport function resetView(returnValue: o.Expression): o.Expression {\n  return o.importExpr(Identifiers.resetView).callFn([returnValue]);\n}\n\nexport function text(\n  slot: number,\n  initialValue: string,\n  sourceSpan: ParseSourceSpan | null,\n): ir.CreateOp {\n  const args: o.Expression[] = [o.literal(slot, null)];\n  if (initialValue !== '') {\n    args.push(o.literal(initialValue));\n  }\n  return call(Identifiers.text, args, sourceSpan);\n}\n\nexport function defer(\n  selfSlot: number,\n  primarySlot: number,\n  dependencyResolverFn: o.Expression | null,\n  loadingSlot: number | null,\n  placeholderSlot: number | null,\n  errorSlot: number | null,\n  loadingConfig: o.Expression | null,\n  placeholderConfig: o.Expression | null,\n  enableTimerScheduling: boolean,\n  sourceSpan: ParseSourceSpan | null,\n  flags: ir.TDeferDetailsFlags | null,\n): ir.CreateOp {\n  const args: Array<o.Expression> = [\n    o.literal(selfSlot),\n    o.literal(primarySlot),\n    dependencyResolverFn ?? o.literal(null),\n    o.literal(loadingSlot),\n    o.literal(placeholderSlot),\n    o.literal(errorSlot),\n    loadingConfig ?? o.literal(null),\n    placeholderConfig ?? o.literal(null),\n    enableTimerScheduling ? o.importExpr(Identifiers.deferEnableTimerScheduling) : o.literal(null),\n    o.literal(flags),\n  ];\n\n  let expr: o.Expression;\n  while (\n    (expr = args[args.length - 1]) !== null &&\n    expr instanceof o.LiteralExpr &&\n    expr.value === null\n  ) {\n    args.pop();\n  }\n\n  return call(Identifiers.defer, args, sourceSpan);\n}\n\nconst deferTriggerToR3TriggerInstructionsMap = new Map([\n  [\n    ir.DeferTriggerKind.Idle,\n    {\n      [ir.DeferOpModifierKind.NONE]: Identifiers.deferOnIdle,\n      [ir.DeferOpModifierKind.PREFETCH]: Identifiers.deferPrefetchOnIdle,\n      [ir.DeferOpModifierKind.HYDRATE]: Identifiers.deferHydrateOnIdle,\n    },\n  ],\n  [\n    ir.DeferTriggerKind.Immediate,\n    {\n      [ir.DeferOpModifierKind.NONE]: Identifiers.deferOnImmediate,\n      [ir.DeferOpModifierKind.PREFETCH]: Identifiers.deferPrefetchOnImmediate,\n      [ir.DeferOpModifierKind.HYDRATE]: Identifiers.deferHydrateOnImmediate,\n    },\n  ],\n  [\n    ir.DeferTriggerKind.Timer,\n    {\n      [ir.DeferOpModifierKind.NONE]: Identifiers.deferOnTimer,\n      [ir.DeferOpModifierKind.PREFETCH]: Identifiers.deferPrefetchOnTimer,\n      [ir.DeferOpModifierKind.HYDRATE]: Identifiers.deferHydrateOnTimer,\n    },\n  ],\n  [\n    ir.DeferTriggerKind.Hover,\n    {\n      [ir.DeferOpModifierKind.NONE]: Identifiers.deferOnHover,\n      [ir.DeferOpModifierKind.PREFETCH]: Identifiers.deferPrefetchOnHover,\n      [ir.DeferOpModifierKind.HYDRATE]: Identifiers.deferHydrateOnHover,\n    },\n  ],\n  [\n    ir.DeferTriggerKind.Interaction,\n    {\n      [ir.DeferOpModifierKind.NONE]: Identifiers.deferOnInteraction,\n      [ir.DeferOpModifierKind.PREFETCH]: Identifiers.deferPrefetchOnInteraction,\n      [ir.DeferOpModifierKind.HYDRATE]: Identifiers.deferHydrateOnInteraction,\n    },\n  ],\n  [\n    ir.DeferTriggerKind.Viewport,\n    {\n      [ir.DeferOpModifierKind.NONE]: Identifiers.deferOnViewport,\n      [ir.DeferOpModifierKind.PREFETCH]: Identifiers.deferPrefetchOnViewport,\n      [ir.DeferOpModifierKind.HYDRATE]: Identifiers.deferHydrateOnViewport,\n    },\n  ],\n  [\n    ir.DeferTriggerKind.Never,\n    {\n      [ir.DeferOpModifierKind.NONE]: Identifiers.deferHydrateNever,\n      [ir.DeferOpModifierKind.PREFETCH]: Identifiers.deferHydrateNever,\n      [ir.DeferOpModifierKind.HYDRATE]: Identifiers.deferHydrateNever,\n    },\n  ],\n]);\n\nexport function deferOn(\n  trigger: ir.DeferTriggerKind,\n  args: (number | null)[],\n  modifier: ir.DeferOpModifierKind,\n  sourceSpan: ParseSourceSpan | null,\n): ir.CreateOp {\n  const instructionToCall = deferTriggerToR3TriggerInstructionsMap.get(trigger)?.[modifier];\n  if (instructionToCall === undefined) {\n    throw new Error(`Unable to determine instruction for trigger ${trigger}`);\n  }\n  return call(\n    instructionToCall,\n    args.map((a) => o.literal(a)),\n    sourceSpan,\n  );\n}\n\nexport function projectionDef(def: o.Expression | null): ir.CreateOp {\n  return call(Identifiers.projectionDef, def ? [def] : [], null);\n}\n\nexport function projection(\n  slot: number,\n  projectionSlotIndex: number,\n  attributes: o.LiteralArrayExpr | null,\n  fallbackFnName: string | null,\n  fallbackDecls: number | null,\n  fallbackVars: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args: o.Expression[] = [o.literal(slot)];\n  if (projectionSlotIndex !== 0 || attributes !== null || fallbackFnName !== null) {\n    args.push(o.literal(projectionSlotIndex));\n    if (attributes !== null) {\n      args.push(attributes);\n    }\n    if (fallbackFnName !== null) {\n      if (attributes === null) {\n        args.push(o.literal(null));\n      }\n      args.push(o.variable(fallbackFnName), o.literal(fallbackDecls), o.literal(fallbackVars));\n    }\n  }\n  return call(Identifiers.projection, args, sourceSpan);\n}\n\nexport function i18nStart(\n  slot: number,\n  constIndex: number,\n  subTemplateIndex: number,\n  sourceSpan: ParseSourceSpan | null,\n): ir.CreateOp {\n  const args = [o.literal(slot), o.literal(constIndex)];\n  if (subTemplateIndex !== null) {\n    args.push(o.literal(subTemplateIndex));\n  }\n  return call(Identifiers.i18nStart, args, sourceSpan);\n}\n\nexport function conditionalCreate(\n  slot: number,\n  templateFnRef: o.Expression,\n  decls: number,\n  vars: number,\n  tag: string | null,\n  constIndex: number | null,\n  localRefs: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args = [\n    o.literal(slot),\n    templateFnRef,\n    o.literal(decls),\n    o.literal(vars),\n    o.literal(tag),\n    o.literal(constIndex),\n  ];\n  if (localRefs !== null) {\n    args.push(o.literal(localRefs));\n    args.push(o.importExpr(Identifiers.templateRefExtractor));\n  }\n  while (args[args.length - 1].isEquivalent(o.NULL_EXPR)) {\n    args.pop();\n  }\n  return call(Identifiers.conditionalCreate, args, sourceSpan);\n}\n\nexport function conditionalBranchCreate(\n  slot: number,\n  templateFnRef: o.Expression,\n  decls: number,\n  vars: number,\n  tag: string | null,\n  constIndex: number | null,\n  localRefs: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args = [\n    o.literal(slot),\n    templateFnRef,\n    o.literal(decls),\n    o.literal(vars),\n    o.literal(tag),\n    o.literal(constIndex),\n  ];\n  if (localRefs !== null) {\n    args.push(o.literal(localRefs));\n    args.push(o.importExpr(Identifiers.templateRefExtractor));\n  }\n  while (args[args.length - 1].isEquivalent(o.NULL_EXPR)) {\n    args.pop();\n  }\n  return call(Identifiers.conditionalBranchCreate, args, sourceSpan);\n}\n\nexport function repeaterCreate(\n  slot: number,\n  viewFnName: string,\n  decls: number,\n  vars: number,\n  tag: string | null,\n  constIndex: number | null,\n  trackByFn: o.Expression,\n  trackByUsesComponentInstance: boolean,\n  emptyViewFnName: string | null,\n  emptyDecls: number | null,\n  emptyVars: number | null,\n  emptyTag: string | null,\n  emptyConstIndex: number | null,\n  sourceSpan: ParseSourceSpan | null,\n): ir.CreateOp {\n  const args = [\n    o.literal(slot),\n    o.variable(viewFnName),\n    o.literal(decls),\n    o.literal(vars),\n    o.literal(tag),\n    o.literal(constIndex),\n    trackByFn,\n  ];\n  if (trackByUsesComponentInstance || emptyViewFnName !== null) {\n    args.push(o.literal(trackByUsesComponentInstance));\n    if (emptyViewFnName !== null) {\n      args.push(o.variable(emptyViewFnName), o.literal(emptyDecls), o.literal(emptyVars));\n      if (emptyTag !== null || emptyConstIndex !== null) {\n        args.push(o.literal(emptyTag));\n      }\n      if (emptyConstIndex !== null) {\n        args.push(o.literal(emptyConstIndex));\n      }\n    }\n  }\n  return call(Identifiers.repeaterCreate, args, sourceSpan);\n}\n\nexport function repeater(\n  collection: o.Expression,\n  sourceSpan: ParseSourceSpan | null,\n): ir.UpdateOp {\n  return call(Identifiers.repeater, [collection], sourceSpan);\n}\n\nexport function deferWhen(\n  modifier: ir.DeferOpModifierKind,\n  expr: o.Expression,\n  sourceSpan: ParseSourceSpan | null,\n): ir.UpdateOp {\n  if (modifier === ir.DeferOpModifierKind.PREFETCH) {\n    return call(Identifiers.deferPrefetchWhen, [expr], sourceSpan);\n  } else if (modifier === ir.DeferOpModifierKind.HYDRATE) {\n    return call(Identifiers.deferHydrateWhen, [expr], sourceSpan);\n  }\n  return call(Identifiers.deferWhen, [expr], sourceSpan);\n}\n\nexport function declareLet(slot: number, sourceSpan: ParseSourceSpan): ir.CreateOp {\n  return call(Identifiers.declareLet, [o.literal(slot)], sourceSpan);\n}\n\nexport function storeLet(value: o.Expression, sourceSpan: ParseSourceSpan): o.Expression {\n  return o.importExpr(Identifiers.storeLet).callFn([value], sourceSpan);\n}\n\nexport function readContextLet(slot: number): o.Expression {\n  return o.importExpr(Identifiers.readContextLet).callFn([o.literal(slot)]);\n}\n\nexport function i18n(\n  slot: number,\n  constIndex: number,\n  subTemplateIndex: number,\n  sourceSpan: ParseSourceSpan | null,\n): ir.CreateOp {\n  const args = [o.literal(slot), o.literal(constIndex)];\n  if (subTemplateIndex) {\n    args.push(o.literal(subTemplateIndex));\n  }\n  return call(Identifiers.i18n, args, sourceSpan);\n}\n\nexport function i18nEnd(endSourceSpan: ParseSourceSpan | null): ir.CreateOp {\n  return call(Identifiers.i18nEnd, [], endSourceSpan);\n}\n\nexport function i18nAttributes(slot: number, i18nAttributesConfig: number): ir.CreateOp {\n  const args = [o.literal(slot), o.literal(i18nAttributesConfig)];\n  return call(Identifiers.i18nAttributes, args, null);\n}\n\nexport function ariaProperty(\n  name: string,\n  expression: o.Expression | ir.Interpolation,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  return propertyBase(Identifiers.ariaProperty, name, expression, null, sourceSpan);\n}\n\nexport function property(\n  name: string,\n  expression: o.Expression | ir.Interpolation,\n  sanitizer: o.Expression | null,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  return propertyBase(Identifiers.property, name, expression, sanitizer, sourceSpan);\n}\n\nexport function twoWayProperty(\n  name: string,\n  expression: o.Expression,\n  sanitizer: o.Expression | null,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  const args = [o.literal(name), expression];\n  if (sanitizer !== null) {\n    args.push(sanitizer);\n  }\n  return call(Identifiers.twoWayProperty, args, sourceSpan);\n}\n\nexport function attribute(\n  name: string,\n  expression: o.Expression | ir.Interpolation,\n  sanitizer: o.Expression | null,\n  namespace: string | null,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  const args: o.Expression[] = [o.literal(name)];\n\n  if (expression instanceof ir.Interpolation) {\n    args.push(interpolationToExpression(expression, sourceSpan));\n  } else {\n    args.push(expression);\n  }\n  if (sanitizer !== null || namespace !== null) {\n    args.push(sanitizer ?? o.literal(null));\n  }\n  if (namespace !== null) {\n    args.push(o.literal(namespace));\n  }\n  return call(Identifiers.attribute, args, null);\n}\n\nexport function styleProp(\n  name: string,\n  expression: o.Expression | ir.Interpolation,\n  unit: string | null,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  const args: o.Expression[] = [o.literal(name)];\n\n  if (expression instanceof ir.Interpolation) {\n    args.push(interpolationToExpression(expression, sourceSpan));\n  } else {\n    args.push(expression);\n  }\n\n  if (unit !== null) {\n    args.push(o.literal(unit));\n  }\n  return call(Identifiers.styleProp, args, sourceSpan);\n}\n\nexport function classProp(\n  name: string,\n  expression: o.Expression,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  return call(Identifiers.classProp, [o.literal(name), expression], sourceSpan);\n}\n\nexport function styleMap(\n  expression: o.Expression | ir.Interpolation,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  const value =\n    expression instanceof ir.Interpolation\n      ? interpolationToExpression(expression, sourceSpan)\n      : expression;\n  return call(Identifiers.styleMap, [value], sourceSpan);\n}\n\nexport function classMap(\n  expression: o.Expression | ir.Interpolation,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  const value =\n    expression instanceof ir.Interpolation\n      ? interpolationToExpression(expression, sourceSpan)\n      : expression;\n  return call(Identifiers.classMap, [value], sourceSpan);\n}\n\nexport function domElement(\n  slot: number,\n  tag: string,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return elementOrContainerBase(\n    Identifiers.domElement,\n    slot,\n    tag,\n    constIndex,\n    localRefIndex,\n    sourceSpan,\n  );\n}\n\nexport function domElementStart(\n  slot: number,\n  tag: string,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return elementOrContainerBase(\n    Identifiers.domElementStart,\n    slot,\n    tag,\n    constIndex,\n    localRefIndex,\n    sourceSpan,\n  );\n}\n\nexport function domElementEnd(sourceSpan: ParseSourceSpan | null): ir.CreateOp {\n  return call(Identifiers.domElementEnd, [], sourceSpan);\n}\n\nexport function domElementContainerStart(\n  slot: number,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return elementOrContainerBase(\n    Identifiers.domElementContainerStart,\n    slot,\n    /* tag */ null,\n    constIndex,\n    localRefIndex,\n    sourceSpan,\n  );\n}\n\nexport function domElementContainer(\n  slot: number,\n  constIndex: number | null,\n  localRefIndex: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return elementOrContainerBase(\n    Identifiers.domElementContainer,\n    slot,\n    /* tag */ null,\n    constIndex,\n    localRefIndex,\n    sourceSpan,\n  );\n}\n\nexport function domElementContainerEnd(): ir.CreateOp {\n  return call(Identifiers.domElementContainerEnd, [], null);\n}\n\nexport function domListener(\n  name: string,\n  handlerFn: o.Expression,\n  eventTargetResolver: o.ExternalReference | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args = [o.literal(name), handlerFn];\n  if (eventTargetResolver !== null) {\n    args.push(o.importExpr(eventTargetResolver));\n  }\n  return call(Identifiers.domListener, args, sourceSpan);\n}\n\nexport function domTemplate(\n  slot: number,\n  templateFnRef: o.Expression,\n  decls: number,\n  vars: number,\n  tag: string | null,\n  constIndex: number | null,\n  localRefs: number | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  return templateBase(\n    Identifiers.domTemplate,\n    slot,\n    templateFnRef,\n    decls,\n    vars,\n    tag,\n    constIndex,\n    localRefs,\n    sourceSpan,\n  );\n}\n\nconst PIPE_BINDINGS: o.ExternalReference[] = [\n  Identifiers.pipeBind1,\n  Identifiers.pipeBind2,\n  Identifiers.pipeBind3,\n  Identifiers.pipeBind4,\n];\n\nexport function pipeBind(slot: number, varOffset: number, args: o.Expression[]): o.Expression {\n  if (args.length < 1 || args.length > PIPE_BINDINGS.length) {\n    throw new Error(`pipeBind() argument count out of bounds`);\n  }\n\n  const instruction = PIPE_BINDINGS[args.length - 1];\n  return o.importExpr(instruction).callFn([o.literal(slot), o.literal(varOffset), ...args]);\n}\n\nexport function pipeBindV(slot: number, varOffset: number, args: o.Expression): o.Expression {\n  return o.importExpr(Identifiers.pipeBindV).callFn([o.literal(slot), o.literal(varOffset), args]);\n}\n\nexport function textInterpolate(\n  strings: string[],\n  expressions: o.Expression[],\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  const interpolationArgs = collateInterpolationArgs(strings, expressions);\n\n  return callVariadicInstruction(TEXT_INTERPOLATE_CONFIG, [], interpolationArgs, [], sourceSpan);\n}\n\nexport function i18nExp(expr: o.Expression, sourceSpan: ParseSourceSpan | null): ir.UpdateOp {\n  return call(Identifiers.i18nExp, [expr], sourceSpan);\n}\n\nexport function i18nApply(slot: number, sourceSpan: ParseSourceSpan | null): ir.UpdateOp {\n  return call(Identifiers.i18nApply, [o.literal(slot)], sourceSpan);\n}\n\nexport function domProperty(\n  name: string,\n  expression: o.Expression | ir.Interpolation,\n  sanitizer: o.Expression | null,\n  sourceSpan: ParseSourceSpan,\n): ir.UpdateOp {\n  return propertyBase(Identifiers.domProperty, name, expression, sanitizer, sourceSpan);\n}\n\nexport function animation(\n  animationKind: ir.AnimationKind,\n  handlerFn: o.Expression,\n  sanitizer: o.Expression | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args = [handlerFn];\n  if (sanitizer !== null) {\n    args.push(sanitizer);\n  }\n  const identifier =\n    animationKind === ir.AnimationKind.ENTER\n      ? Identifiers.animationEnter\n      : Identifiers.animationLeave;\n  return call(identifier, args, sourceSpan);\n}\n\nexport function animationString(\n  animationKind: ir.AnimationKind,\n  expression: o.Expression | ir.Interpolation,\n  sanitizer: o.Expression | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const value =\n    expression instanceof ir.Interpolation\n      ? interpolationToExpression(expression, sourceSpan)\n      : expression;\n  const args = [value];\n  if (sanitizer !== null) {\n    args.push(sanitizer);\n  }\n  const identifier =\n    animationKind === ir.AnimationKind.ENTER\n      ? Identifiers.animationEnter\n      : Identifiers.animationLeave;\n  return call(identifier, args, sourceSpan);\n}\n\nexport function animationListener(\n  animationKind: ir.AnimationKind,\n  handlerFn: o.Expression,\n  eventTargetResolver: o.ExternalReference | null,\n  sourceSpan: ParseSourceSpan,\n): ir.CreateOp {\n  const args = [handlerFn];\n  if (eventTargetResolver !== null) {\n    args.push(o.importExpr(eventTargetResolver));\n  }\n  const identifier =\n    animationKind === ir.AnimationKind.ENTER\n      ? Identifiers.animationEnterListener\n      : Identifiers.animationLeaveListener;\n\n  return call(identifier, args, sourceSpan);\n}\n\nexport function syntheticHostProperty(\n  name: string,\n  expression: o.Expression,\n  sourceSpan: ParseSourceSpan | null,\n): ir.UpdateOp {\n  return call(Identifiers.syntheticHostProperty, [o.literal(name), expression], sourceSpan);\n}\n\nexport function pureFunction(\n  varOffset: number,\n  fn: o.Expression,\n  args: o.Expression[],\n): o.Expression {\n  return callVariadicInstructionExpr(\n    PURE_FUNCTION_CONFIG,\n    [o.literal(varOffset), fn],\n    args,\n    [],\n    null,\n  );\n}\n\nexport function attachSourceLocation(\n  templatePath: string,\n  locations: o.LiteralArrayExpr,\n): ir.CreateOp {\n  return call(Identifiers.attachSourceLocations, [o.literal(templatePath), locations], null);\n}\n\n/**\n * Collates the string an expression arguments for an interpolation instruction.\n */\nfunction collateInterpolationArgs(strings: string[], expressions: o.Expression[]): o.Expression[] {\n  if (strings.length < 1 || expressions.length !== strings.length - 1) {\n    throw new Error(\n      `AssertionError: expected specific shape of args for strings/expressions in interpolation`,\n    );\n  }\n  const interpolationArgs: o.Expression[] = [];\n\n  if (expressions.length === 1 && strings[0] === '' && strings[1] === '') {\n    interpolationArgs.push(expressions[0]);\n  } else {\n    let idx: number;\n    for (idx = 0; idx < expressions.length; idx++) {\n      interpolationArgs.push(o.literal(strings[idx]), expressions[idx]);\n    }\n\n    // idx points at the last string.\n    interpolationArgs.push(o.literal(strings[idx]));\n  }\n\n  return interpolationArgs;\n}\n\nfunction interpolationToExpression(\n  interpolation: ir.Interpolation,\n  sourceSpan: ParseSourceSpan,\n): o.Expression {\n  const interpolationArgs = collateInterpolationArgs(\n    interpolation.strings,\n    interpolation.expressions,\n  );\n  return callVariadicInstructionExpr(\n    VALUE_INTERPOLATE_CONFIG,\n    [],\n    interpolationArgs,\n    [],\n    sourceSpan,\n  );\n}\n\nfunction call<OpT extends ir.CreateOp | ir.UpdateOp>(\n  instruction: o.ExternalReference,\n  args: o.Expression[],\n  sourceSpan: ParseSourceSpan | null,\n): OpT {\n  const expr = o.importExpr(instruction).callFn(args, sourceSpan);\n  return ir.createStatementOp(new o.ExpressionStatement(expr, sourceSpan)) as OpT;\n}\n\nexport function conditional(\n  condition: o.Expression,\n  contextValue: o.Expression | null,\n  sourceSpan: ParseSourceSpan | null,\n): ir.UpdateOp {\n  const args = [condition];\n  if (contextValue !== null) {\n    args.push(contextValue);\n  }\n  return call(Identifiers.conditional, args, sourceSpan);\n}\n\n/**\n * Describes a specific flavor of instruction used to represent variadic instructions, which\n * have some number of variants for specific argument counts.\n */\ninterface VariadicInstructionConfig {\n  constant: o.ExternalReference[];\n  variable: o.ExternalReference | null;\n  mapping: (argCount: number) => number;\n}\n\n/**\n * `InterpolationConfig` for the `textInterpolate` instruction.\n */\nconst TEXT_INTERPOLATE_CONFIG: VariadicInstructionConfig = {\n  constant: [\n    Identifiers.textInterpolate,\n    Identifiers.textInterpolate1,\n    Identifiers.textInterpolate2,\n    Identifiers.textInterpolate3,\n    Identifiers.textInterpolate4,\n    Identifiers.textInterpolate5,\n    Identifiers.textInterpolate6,\n    Identifiers.textInterpolate7,\n    Identifiers.textInterpolate8,\n  ],\n  variable: Identifiers.textInterpolateV,\n  mapping: (n) => {\n    if (n % 2 === 0) {\n      throw new Error(`Expected odd number of arguments`);\n    }\n    return (n - 1) / 2;\n  },\n};\n\nconst VALUE_INTERPOLATE_CONFIG: VariadicInstructionConfig = {\n  constant: [\n    Identifiers.interpolate,\n    Identifiers.interpolate1,\n    Identifiers.interpolate2,\n    Identifiers.interpolate3,\n    Identifiers.interpolate4,\n    Identifiers.interpolate5,\n    Identifiers.interpolate6,\n    Identifiers.interpolate7,\n    Identifiers.interpolate8,\n  ],\n  variable: Identifiers.interpolateV,\n  mapping: (n) => {\n    if (n % 2 === 0) {\n      throw new Error(`Expected odd number of arguments`);\n    }\n    return (n - 1) / 2;\n  },\n};\n\nconst PURE_FUNCTION_CONFIG: VariadicInstructionConfig = {\n  constant: [\n    Identifiers.pureFunction0,\n    Identifiers.pureFunction1,\n    Identifiers.pureFunction2,\n    Identifiers.pureFunction3,\n    Identifiers.pureFunction4,\n    Identifiers.pureFunction5,\n    Identifiers.pureFunction6,\n    Identifiers.pureFunction7,\n    Identifiers.pureFunction8,\n  ],\n  variable: Identifiers.pureFunctionV,\n  mapping: (n) => n,\n};\n\nfunction callVariadicInstructionExpr(\n  config: VariadicInstructionConfig,\n  baseArgs: o.Expression[],\n  interpolationArgs: o.Expression[],\n  extraArgs: o.Expression[],\n  sourceSpan: ParseSourceSpan | null,\n): o.Expression {\n  // mapping need to be done before potentially dropping the last interpolation argument\n  const n = config.mapping(interpolationArgs.length);\n\n  // In the case the interpolation instruction ends with a empty string we drop it\n  // And the runtime will take care of it.\n  const lastInterpolationArg = interpolationArgs.at(-1);\n  if (\n    extraArgs.length === 0 &&\n    interpolationArgs.length > 1 &&\n    lastInterpolationArg instanceof o.LiteralExpr &&\n    lastInterpolationArg.value === ''\n  ) {\n    interpolationArgs.pop();\n  }\n\n  if (n < config.constant.length) {\n    // Constant calling pattern.\n    return o\n      .importExpr(config.constant[n])\n      .callFn([...baseArgs, ...interpolationArgs, ...extraArgs], sourceSpan);\n  } else if (config.variable !== null) {\n    // Variable calling pattern.\n    return o\n      .importExpr(config.variable)\n      .callFn([...baseArgs, o.literalArr(interpolationArgs), ...extraArgs], sourceSpan);\n  } else {\n    throw new Error(`AssertionError: unable to call variadic function`);\n  }\n}\n\nfunction callVariadicInstruction(\n  config: VariadicInstructionConfig,\n  baseArgs: o.Expression[],\n  interpolationArgs: o.Expression[],\n  extraArgs: o.Expression[],\n  sourceSpan: ParseSourceSpan | null,\n): ir.UpdateOp {\n  return ir.createStatementOp(\n    callVariadicInstructionExpr(\n      config,\n      baseArgs,\n      interpolationArgs,\n      extraArgs,\n      sourceSpan,\n    ).toStmt(),\n  );\n}\n"]}