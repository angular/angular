{"version":3,"file":"interpolation.js","sourceRoot":"","sources":["interpolation.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {assertEqual, assertLessThan} from '../../util/assert';\nimport {bindingUpdated, bindingUpdated2, bindingUpdated3, bindingUpdated4} from '../bindings';\nimport {LView} from '../interfaces/view';\nimport {getBindingIndex, incrementBindingIndex, nextBindingIndex, setBindingIndex} from '../state';\nimport {NO_CHANGE} from '../tokens';\nimport {renderStringify} from '../util/stringify_utils';\n\n/**\n * Create interpolation bindings with a variable number of expressions.\n *\n * If there are 1 to 8 expressions `interpolation1()` to `interpolation8()` should be used instead.\n * Those are faster because there is no need to create an array of expressions and iterate over it.\n *\n * `values`:\n * - has static text at even indexes,\n * - has evaluated expressions at odd indexes.\n *\n * Returns the concatenated string when any of the arguments changes, `NO_CHANGE` otherwise.\n */\nexport function interpolationV(lView: LView, values: any[]): string | NO_CHANGE {\n  ngDevMode && assertLessThan(2, values.length, 'should have at least 3 values');\n  let isBindingUpdated = false;\n  let bindingIndex = getBindingIndex();\n\n  for (let i = 1; i < values.length; i += 2) {\n    // Check if bindings (odd indexes) have changed\n    isBindingUpdated = bindingUpdated(lView, bindingIndex++, values[i]) || isBindingUpdated;\n  }\n  setBindingIndex(bindingIndex);\n\n  if (!isBindingUpdated) {\n    return NO_CHANGE;\n  }\n\n  // Build the updated content\n  let content = values[0];\n  for (let i = 1; i < values.length; i += 2) {\n    // The condition is to prevent an out-of-bound read\n    content += renderStringify(values[i]) + (i + 1 !== values.length ? values[i + 1] : '');\n  }\n\n  return content;\n}\n\n/**\n * Creates an interpolation binding with 1 expression.\n *\n * @param prefix static value used for concatenation only.\n * @param v0 value checked for change.\n * @param suffix static value used for concatenation only.\n */\nexport function interpolation1(\n  lView: LView,\n  prefix: string,\n  v0: any,\n  suffix = '',\n): string | NO_CHANGE {\n  const different = bindingUpdated(lView, nextBindingIndex(), v0);\n  return different ? prefix + renderStringify(v0) + suffix : NO_CHANGE;\n}\n\n/**\n * Creates an interpolation binding with 2 expressions.\n */\nexport function interpolation2(\n  lView: LView,\n  prefix: string,\n  v0: any,\n  i0: string,\n  v1: any,\n  suffix = '',\n): string | NO_CHANGE {\n  const bindingIndex = getBindingIndex();\n  const different = bindingUpdated2(lView, bindingIndex, v0, v1);\n  incrementBindingIndex(2);\n\n  return different ? prefix + renderStringify(v0) + i0 + renderStringify(v1) + suffix : NO_CHANGE;\n}\n\n/**\n * Creates an interpolation binding with 3 expressions.\n */\nexport function interpolation3(\n  lView: LView,\n  prefix: string,\n  v0: any,\n  i0: string,\n  v1: any,\n  i1: string,\n  v2: any,\n  suffix = '',\n): string | NO_CHANGE {\n  const bindingIndex = getBindingIndex();\n  const different = bindingUpdated3(lView, bindingIndex, v0, v1, v2);\n  incrementBindingIndex(3);\n\n  return different\n    ? prefix + renderStringify(v0) + i0 + renderStringify(v1) + i1 + renderStringify(v2) + suffix\n    : NO_CHANGE;\n}\n\n/**\n * Create an interpolation binding with 4 expressions.\n */\nexport function interpolation4(\n  lView: LView,\n  prefix: string,\n  v0: any,\n  i0: string,\n  v1: any,\n  i1: string,\n  v2: any,\n  i2: string,\n  v3: any,\n  suffix = '',\n): string | NO_CHANGE {\n  const bindingIndex = getBindingIndex();\n  const different = bindingUpdated4(lView, bindingIndex, v0, v1, v2, v3);\n  incrementBindingIndex(4);\n\n  return different\n    ? prefix +\n        renderStringify(v0) +\n        i0 +\n        renderStringify(v1) +\n        i1 +\n        renderStringify(v2) +\n        i2 +\n        renderStringify(v3) +\n        suffix\n    : NO_CHANGE;\n}\n\n/**\n * Creates an interpolation binding with 5 expressions.\n */\nexport function interpolation5(\n  lView: LView,\n  prefix: string,\n  v0: any,\n  i0: string,\n  v1: any,\n  i1: string,\n  v2: any,\n  i2: string,\n  v3: any,\n  i3: string,\n  v4: any,\n  suffix = '',\n): string | NO_CHANGE {\n  const bindingIndex = getBindingIndex();\n  let different = bindingUpdated4(lView, bindingIndex, v0, v1, v2, v3);\n  different = bindingUpdated(lView, bindingIndex + 4, v4) || different;\n  incrementBindingIndex(5);\n\n  return different\n    ? prefix +\n        renderStringify(v0) +\n        i0 +\n        renderStringify(v1) +\n        i1 +\n        renderStringify(v2) +\n        i2 +\n        renderStringify(v3) +\n        i3 +\n        renderStringify(v4) +\n        suffix\n    : NO_CHANGE;\n}\n\n/**\n * Creates an interpolation binding with 6 expressions.\n */\nexport function interpolation6(\n  lView: LView,\n  prefix: string,\n  v0: any,\n  i0: string,\n  v1: any,\n  i1: string,\n  v2: any,\n  i2: string,\n  v3: any,\n  i3: string,\n  v4: any,\n  i4: string,\n  v5: any,\n  suffix = '',\n): string | NO_CHANGE {\n  const bindingIndex = getBindingIndex();\n  let different = bindingUpdated4(lView, bindingIndex, v0, v1, v2, v3);\n  different = bindingUpdated2(lView, bindingIndex + 4, v4, v5) || different;\n  incrementBindingIndex(6);\n\n  return different\n    ? prefix +\n        renderStringify(v0) +\n        i0 +\n        renderStringify(v1) +\n        i1 +\n        renderStringify(v2) +\n        i2 +\n        renderStringify(v3) +\n        i3 +\n        renderStringify(v4) +\n        i4 +\n        renderStringify(v5) +\n        suffix\n    : NO_CHANGE;\n}\n\n/**\n * Creates an interpolation binding with 7 expressions.\n */\nexport function interpolation7(\n  lView: LView,\n  prefix: string,\n  v0: any,\n  i0: string,\n  v1: any,\n  i1: string,\n  v2: any,\n  i2: string,\n  v3: any,\n  i3: string,\n  v4: any,\n  i4: string,\n  v5: any,\n  i5: string,\n  v6: any,\n  suffix = '',\n): string | NO_CHANGE {\n  const bindingIndex = getBindingIndex();\n  let different = bindingUpdated4(lView, bindingIndex, v0, v1, v2, v3);\n  different = bindingUpdated3(lView, bindingIndex + 4, v4, v5, v6) || different;\n  incrementBindingIndex(7);\n\n  return different\n    ? prefix +\n        renderStringify(v0) +\n        i0 +\n        renderStringify(v1) +\n        i1 +\n        renderStringify(v2) +\n        i2 +\n        renderStringify(v3) +\n        i3 +\n        renderStringify(v4) +\n        i4 +\n        renderStringify(v5) +\n        i5 +\n        renderStringify(v6) +\n        suffix\n    : NO_CHANGE;\n}\n\n/**\n * Creates an interpolation binding with 8 expressions.\n */\nexport function interpolation8(\n  lView: LView,\n  prefix: string,\n  v0: any,\n  i0: string,\n  v1: any,\n  i1: string,\n  v2: any,\n  i2: string,\n  v3: any,\n  i3: string,\n  v4: any,\n  i4: string,\n  v5: any,\n  i5: string,\n  v6: any,\n  i6: string,\n  v7: any,\n  suffix = '',\n): string | NO_CHANGE {\n  const bindingIndex = getBindingIndex();\n  let different = bindingUpdated4(lView, bindingIndex, v0, v1, v2, v3);\n  different = bindingUpdated4(lView, bindingIndex + 4, v4, v5, v6, v7) || different;\n  incrementBindingIndex(8);\n\n  return different\n    ? prefix +\n        renderStringify(v0) +\n        i0 +\n        renderStringify(v1) +\n        i1 +\n        renderStringify(v2) +\n        i2 +\n        renderStringify(v3) +\n        i3 +\n        renderStringify(v4) +\n        i4 +\n        renderStringify(v5) +\n        i5 +\n        renderStringify(v6) +\n        i6 +\n        renderStringify(v7) +\n        suffix\n    : NO_CHANGE;\n}\n"]}